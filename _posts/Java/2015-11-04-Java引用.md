---
layout: post
title: "Java引用"
date: 2015-11-04
categories: java
tags: java 引用
---

#JAVA引用

Java中的引用分为
* 强引用（Strong Reference）
* 软引用（Soft Reference）
* 弱引用（Weak Reference）
* 虚引用（Phantom Reference）

这四种引用强度依次减弱

###强引用

**强引用**类似于通过`new`关键字创建的对象引用都是强引用，只要**强引用**还存在，垃圾收集器就不会回收被引用的对象

	生存时间：还存在对这个对象引用的时候
	回收时间：只要存在，就不会回收
	实现方法:new, 克隆，反序列化，反射

###软引用

**软引用**是用来描述一些还有用但并非必须的对象，当系统将要发生`OutOfMemoryError`之前，将会把**软引用**对应的对象列进回收范围之中进行二次回收，如果回收后还没有足够的内存，则将发生`OutOfMemoryError`
	
	生存时间：系统有足够的内存
	回收时间：在系统抛出`OutOfMemoryError`之前
	实现方法：SoftReference类

###弱引用

**弱引用**用来描述非必须的对象，它的强度比**软引用**更弱，被弱引用的对象只能生存在下一次垃圾回收之前。当垃圾回收器工作时，不管当前内存是否足够，被**弱引用**的对象都会被回收

	生存时间：垃圾回收器下一次进行回收之前
	回收时间：垃圾回收器工作时
	实现方法：WeakReference类


###虚引用

**虚引用**是最弱的一种引用关系，一个对象有**虚引用**的存在，完全不会对其生存时间构成影响，也无法通过虚引用获得一个对象的实例。为对象设置**虚引用**的唯一目的就是能在这个对象被垃圾回收的时候收到一个系统通知。

	生存时间：
	回收时间：
	实现方法：PhantomReference类